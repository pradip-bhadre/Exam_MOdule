<html>
<head>
    
    <title>register</title>

    <style>
        body{
            background-image: url("https://img.freepik.com/free-photo/top-view-business-office-desk-background-applying-job-form-pen-pencil-eyeglasses-tree-mobile-phone-wooden-table-background-with-copy-space_1921-22.jpg");
            background-repeat: no-repeat;
            background-size: cover;
        }
        span
        {
            color: red;
        }
    
        #div2
            {
                text-align:center;
                border:3px solid black;
                width:500px;
                margin:auto;
                padding-top:100px;
                padding-bottom:50px;
                box-sizing:border-box;
            }
            input
            {
                padding:15px;
            }
            
            input[type="submit"] /*,input[type="password"]*/
            {
                padding:15px 20px;
                color:red;
                background-color:yellow;
                border-radius:50%;
            }
    
    
    </style>
    
<script>
    
    var xmlhttp;

function check()
			{
					var username=document.registerForm.name.value;
									
					var data = "username="+username;

					xmlhttp= new XMLHttpRequest();

					xmlhttp.onload=displayData;

					xmlhttp.open("get","/checkUsername?" + data);
				
					xmlhttp.send();
				
			}

			function displayData()
			{
				
				var data=xmlhttp.responseText;
				alert("JSON String from Server " + data)

				var obj=JSON.parse(data); 
				// parse() will convert json data into javascript's object
                //alert(obj.message);{"message":"username already present"}
				
				document.getElementById("show").innerHTML=obj.message;

			}
		

    function changeStyle(inputelement)
    {
        inputelement.style.color="white";
        inputelement.style.background="black";
    }



</script>
</head>
<body>
    
<div id="div2">

    <form action="/saveUserData" method="POST" name="registerForm" enctype="multipart/form-data">
    
        {% csrf_token %}

        <span id="show" style="color:red;font-size: larger;"></span><br><br>
        <input  type="text" name="name" placeholder="Enter user name" onfocus="changeStyle(this)" onblur="check()"><br><br>
    
        <input  type="password" name="password"  placeholder="Enter password" onfocus="changeStyle(this)"><br><br>
    
        <input  type="text" name="mobno"  placeholder="Enter mobilenumber" onfocus="changeStyle(this)"><br><br>
    
        <input  type="text" name="email"  placeholder="Enter email" onfocus="changeStyle(this)"><br><br>
        
        <input type="file" name="photo" accept="image/png, image/gif, image/jpeg" /><br><br>
		
        <input type="submit" value="register">

    </form>
    
</div>
    
</body>
</html>